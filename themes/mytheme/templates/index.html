{# Homepage layout: hero, recent posts, project preview, links to About/Contact, footer #}
{% extends "base.html" %}
{% block content %}
<section class="home-hero">
<div class="hero-inner">
<div class="hero-media">
<img src="/images/hero-graphic.jpg" alt="hero graphic" class="hero-graphic">
<div class="hero-content">
<h1 class="hero-title">{{ SITENAME }}</h1>
<p class="hero-sub">{{ SITE_DESCRIPTION }}</p>
<p class="hero-cta">
<a class="btn" href="{{ SITEURL }}/blog.html">Read the blog</a>
<a class="btn btn-ghost" href="{{ SITEURL }}/projects.html">See projects</a>
</p>
</div>
</div>
</div>
</section>

<section class="container recent-section">
<div class="section-header">
  <h2>Recent posts</h2>
  <div class="carousel-nav" data-carousel="posts-carousel">
    <button class="carousel-btn prev" aria-label="Previous posts">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="15 18 9 12 15 6"></polyline>
      </svg>
    </button>
    <button class="carousel-btn next" aria-label="Next posts">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </button>
  </div>
</div>
<div class="carousel-wrapper">
  <div class="carousel" id="posts-carousel" tabindex="0">
    {% for article in articles[:5] %}
    <article class="card carousel-item">
      {% if article.metadata is defined and article.metadata.get('image') %}
      <img src="{{ article.metadata.get('image') }}" alt="{{ article.title }}" class="card-thumb">
      {% endif %}
      <div class="card-content">
        <h3><a href="{{ SITEURL }}{{ article.url }}">{{ article.title }}</a></h3>
        <p class="muted">{{ article.date.strftime('%Y-%m-%d') }} â€¢ {{ article.author }}</p>
        <p class="summary">{{ article.summary|truncate(100, True, '...') }}</p>
      </div>
    </article>
    {% endfor %}
  </div>
  <div class="carousel-fade carousel-fade-left"></div>
  <div class="carousel-fade carousel-fade-right"></div>
</div>
</section>

<section class="container projects-preview">
<div class="section-header">
  <h2>Featured projects</h2>
  <div class="carousel-nav" data-carousel="projects-carousel">
    <button class="carousel-btn prev" aria-label="Previous projects">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="15 18 9 12 15 6"></polyline>
      </svg>
    </button>
    <button class="carousel-btn next" aria-label="Next projects">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </button>
  </div>
</div>
<div class="carousel-wrapper">
  <div class="carousel" id="projects-carousel" tabindex="0">
    {% set shown = 0 %}
    {% for a in articles %}
      {% if a.metadata is defined and a.metadata.get('type','')|lower == 'project' and shown < 5 %}
    <article class="card carousel-item">
      {% if a.metadata.get('image') %}
      <img src="{{ a.metadata.get('image') }}" alt="{{ a.title }}" class="card-thumb">
      {% endif %}
      <div class="card-content">
        <h3><a href="{{ SITEURL }}{{ a.url }}">{{ a.title }}</a></h3>
        <p class="muted">Project</p>
        <p class="summary">{{ a.summary|truncate(100, True, '...') }}</p>
      </div>
    </article>
        {% set shown = shown + 1 %}
      {% endif %}
    {% endfor %}
  </div>
  <div class="carousel-fade carousel-fade-left"></div>
  <div class="carousel-fade carousel-fade-right"></div>
</div>
</section>

<script src="{{ SITEURL }}/theme/js/carousel.js"></script>
{% endblock %}